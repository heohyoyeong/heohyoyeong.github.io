<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Python Django - Django 블로그 프로젝트 게시판  제작</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- Font awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- 웹폰트 추가 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css 추가 -->
    <link rel="stylesheet" href="/assets/built/syntax.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="AI와 자동차의 만남" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/built/images/background-fronted.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/python-Django-blog-3" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="AI with vehicle" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Python Django - Django 블로그 프로젝트 게시판  제작" />
    <meta property="og:description" content="Python 강좌는 여러 절로 구성되어 있습니다. Python 강좌(1) - Python 문자열 Python 강좌(2) - Python 제어문 Python Django - Django 시작 Python Django - Django 투표 프로젝트 model 제작 Python Django - Django 투표 프로젝트 투표 목록 제작 Python Django - Django 투표 프로젝트 투표 보기 제작 Python Django -" />
    <meta property="og:url" content="http://localhost:4000/python-Django-blog-3" />
    <meta property="og:image" content="http://localhost:4000/assets/built/images/django.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2020-08-19T02:40:00+09:00" />
    <meta property="article:modified_time" content="2020-08-19T02:40:00+09:00" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Python Django - Django 블로그 프로젝트 게시판  제작" />
    <meta name="twitter:description" content="Python 강좌는 여러 절로 구성되어 있습니다. Python 강좌(1) - Python 문자열 Python 강좌(2) - Python 제어문 Python Django - Django 시작 Python Django - Django 투표 프로젝트 model 제작 Python Django - Django 투표 프로젝트 투표 목록 제작 Python Django - Django 투표 프로젝트 투표 보기 제작 Python Django -" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/built/images/django.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="AI with vehicle" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "AI with vehicle",
        "logo": "http://localhost:4000/"
    },
    "url": "http://localhost:4000/python-Django-blog-3",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/built/images/django.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/python-Django-blog-3"
    },
    "description": "Python 강좌는 여러 절로 구성되어 있습니다. Python 강좌(1) - Python 문자열 Python 강좌(2) - Python 제어문 Python Django - Django 시작 Python Django - Django 투표 프로젝트 model 제작 Python Django - Django 투표 프로젝트 투표 목록 제작 Python Django - Django 투표 프로젝트 투표 보기 제작 Python Django -"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Python Django - Django 블로그 프로젝트 게시판  제작" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/">AI with vehicle</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-vehicle" role="menuitem"><a href="/tag/vehicle/">vehicle</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-AI" role="menuitem"><a href="/tag/AI/">AI</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-python post tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="19 August 2020">19 August 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Python Django - Django 블로그 프로젝트 게시판  제작</h1>
            </header>
<!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/django.png)">
            </figure>
            
        -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Python 강좌는 여러 절로 구성되어 있습니다. </span></p>
<ul class="table-of-contents-list">
    <li><a href="./python-basic">Python 강좌(1) - Python 문자열</a></li>
    <li><a href="./python-control-statement">Python 강좌(2) - Python 제어문</a></li>
    <li><a href="./python-Django">Python Django - Django 시작</a></li>
    <li><a href="./python-Django-poll-1">Python Django - Django 투표 프로젝트 model 제작</a></li>
    <li><a href="./python-Django-poll-2">Python Django - Django 투표 프로젝트 투표 목록 제작</a></li>
    <li><a href="./python-Django-poll-3">Python Django - Django 투표 프로젝트 투표 보기 제작</a></li>
    <li><a href="./python-Django-poll-4">Python Django - Django 투표 프로젝트 투표 결과 제작</a></li>
    <li><a href="./python-Django-blog-1">Python Django - Django 블로그 프로젝트 model 제작</a></li>
    <li><a href="./python-Django-blog-2">Python Django - Django 블로그 프로젝트 로그인 제작</a></li>
    <li><a href="./python-Django-blog-3">Python Django - Django 블로그 프로젝트 게시판 제작</a></li>
</ul>
<h3 id="이번-포스트에서는-로그인후-게시판을-구현해보려고합니다">이번 포스트에서는 로그인후 게시판을 구현해보려고합니다.</h3>
<h6 id="이전-포스트에서-로그인을-성공하면-listhtml로-이동하도록하였습니다">이전 포스트에서 로그인을 성공하면 list.html로 이동하도록하였습니다.</h6>
<h6 id="이번-포스트에서는-bootstrap을-자동으로-적용하기-위하여-basehtml을-작성하고">이번 포스트에서는 bootstrap을 자동으로 적용하기 위하여 base.html을 작성하고</h6>
<h6 id="이후-부터는-basehtml을-가져와-사용하겠습니다">이후 부터는 base.html을 가져와 사용하겠습니다.</h6>
<h6 id="따라서-basehtml부터-작성하도록-하겠습니다">따라서 base.html부터 작성하도록 하겠습니다.</h6>

<h3 id="basehtml-작성">base.html 작성</h3>
<ul>
  <li>base html은 이전의 index.html과 같이 project폴더의 templates에 저장해줄것입니다.</li>
  <li>아래와 같이 작성해줍니다.</li>
  <li>코드를 보시면 head부분에 css형식으로 bootstrap을 가져옵니다.</li>
  <li>그후 block container을 작성하여 이후에 base.html을 불러와 사용할것입니다.</li>
  <li>이러한 방식을 통해 컨테이너 내부에 작성할 수 있게됩니다.
```html</li>
</ul>

<p>&lt;!DOCTYPE html&gt;</p>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css" integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous" />
</head>
<body>
    {% block container %}
    {% endblock %}
</body>
</html>
<p>]</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### list.html 제작
- base.html을 작성하였다면 list.html을 작성해주도록하겠습니다.
- 아래와 같이 작성해주면됩니다.
- 코드를보시면 extends 'base.html'가 base.html을 불러줍니다.
- 그후 block container를 사용하여 컨터이너를 불러주고 내부에 html을 작성하게됩니다.
- 의 경우 이전 포스트의 views의 login 함수에서 세션에서 저장한후 다시 response_data라는 dic에 저장하여 list.html에 출력합니다.
- 출력결과값은 로그인한 사용자의 아이디가 출력됩니다.
- 아래 내용부분의 경우 게시판의 모든 포스트가 출력됩니다. 하지만 현재는 작성한 포스타가 없기때문에 나오지않을겁니다.
- list.html을 작성하였다면 이제 새글을 작성하는 기능을 추가해봅시다.

```html


{% extends 'base.html' %}
{% block container %}

&lt;script src="/static/js/post.js"&gt;&lt;/script&gt; &lt;!-- java스크립트 소환!--&gt;
&lt;div class="container"&gt;
&lt;h1&gt;Bulletin Board System(BBS)&lt;/h1&gt;
    &lt;tr&gt;
        &lt;td&gt;
       &lt;a href="{% url 'posts:create' %}" class="btn btn-primary"&gt;새글작성&lt;/a&gt;
        &lt;/td&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;td&gt;
            &lt;h4&gt;  사용자: {{users}}&lt;/h4&gt;
        &lt;/td&gt;
    &lt;/tr&gt;
    &lt;div class="m-1"&gt;&lt;/div&gt;
    &lt;table class="table table-hover"&gt;

        &lt;thead class="thead-dark"&gt; &lt;!-- 제목 --&gt;
            &lt;tr&gt;
                &lt;th scope="col"&gt;#&lt;/th&gt;
                &lt;th scope="col"&gt;작성자&lt;/th&gt;
                &lt;th scope="col"&gt;내용&lt;/th&gt;
                &lt;th scope="col"&gt;댓글작성&lt;/th&gt;
                &lt;th scope="col"&gt;수정&lt;/th&gt;
                &lt;th scope="col"&gt;삭제&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;

        &lt;tbody&gt; &lt;!-- 내용 --&gt;
        {% for post in posts %}
            &lt;tr&gt;
                &lt;th scope="row"&gt;{{ post.id }}&lt;/th&gt;
                &lt;td&gt;{{ post.author }}&lt;/td&gt;
                &lt;td&gt;{{ post.contents }}&lt;/td&gt;
                &lt;td&gt;
                    &lt;a href="{% url 'posts:datt' post.id %}" class="btn btn-success"&gt;댓글작성&lt;/a&gt;
                &lt;/td&gt;
                &lt;td&gt;
                    &lt;a href="{% url 'posts:update' post.id %}" class="btn btn-warning"&gt;수정&lt;/a&gt;
                &lt;/td&gt;
                &lt;td&gt;
                    &lt;a href="{% url 'posts:delete' post.id %}" class="btn btn-danger"&gt;삭제&lt;/a&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        {% endfor %}
        &lt;/tbody&gt;

    &lt;/table&gt;
&lt;/div&gt;
{% endblock %}


</code></pre></div></div>

<h3 id="application의-url-추가">application의 url 추가</h3>
<ul>
  <li>이제 application의 url을 추가해주도록하겠습니다.</li>
  <li>list는 첫화면으로 돌아올경우의 url입니다.</li>
  <li>create의 경우 새글 작성 기능의 url입니다.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'list/'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">p_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"list"</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'create/'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">p_create</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"create"</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'register/'</span><span class="p">,</span><span class="n">views</span><span class="o">.</span><span class="n">register</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'register'</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'login/'</span><span class="p">,</span><span class="n">views</span><span class="o">.</span><span class="n">login</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">"login"</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div>
<ul>
  <li>url을 작성하였다면 views를 수정해줄 차례입니다.</li>
</ul>

<h4 id="새글-작성-제작">새글 작성 제작</h4>
<ul>
  <li>가장먼저 application의 안에 form.py를 생성해줍니다.</li>
  <li>그후 아래와 같이 postform을 작성해줍니다.</li>
  <li>Form 함수는 모델을 변수로서 받음후 그 변수의 변수들 중 빈칸으로 생성해줄 것들을 정해주어야합니다.</li>
  <li>빈칸으로 생성할 함수의 경우 fiedls에 작성해줍니다.</li>
</ul>

<h3 id="postfrom-작성">postfrom 작성</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">posts.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Datt</span>

<span class="k">class</span> <span class="nc">PostForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span> <span class="c">#이렇게 반드시해야한다.</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">'author'</span><span class="p">,</span><span class="s">'contents'</span><span class="p">]</span> <span class="c">#실제 입력할 것이 무엇인가.</span>
</code></pre></div></div>

<h3 id="def-p_create-작성">def p_create 작성</h3>
<ul>
  <li>아래와 같이 p_create 함수를 작성합니다.</li>
  <li>함수를 보시면 가장먼저 get방식으로 p_create함수가 호출되면 앞에서 작성한 postform이 빈칸으로 호출됩니다. 그 후 create.html을 호출하게됩니다.</li>
  <li>create.html를 아래와 같이 작성합니다.</li>
  <li>create.html에서 작성자와 글내용을 작성하였다면 등록버튼으로 summit하여 post형식으로 제출하는것을 알수있습니다.</li>
  <li>따라서 p_create 함수에서 request가 post형식일 경우에 작성한 작성자와 글내용이 유효하다면 저장하도록하였습니다.</li>
  <li>마지막으로 저장이 완료되었다면 redirect로 list.html로 복귀하도록 설정하였습니다.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">p_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c"># POST 방식으로 호출될때 =&gt;form action method="post"인 방식</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">post_form</span><span class="o">=</span><span class="n">PostForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span> <span class="c"># POST방식으로 전송된것을 싹다 사용해서 객체로 만들어라!</span>
        <span class="n">PostForm</span><span class="o">.</span><span class="n">Meta</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'author'</span> <span class="o">==</span> <span class="n">User</span><span class="o">.</span><span class="nb">id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">post_form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span> <span class="c"># 제대로 된 값을 입력하였다면</span>
            <span class="n">post_form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">"posts:list"</span><span class="p">)</span> <span class="c">#다시 돌아간다!</span>

    <span class="c"># GET 방식으로 호출될때 =&gt; form action을 사용하지않는 거의 모든 방식</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">post_form</span><span class="o">=</span><span class="n">PostForm</span><span class="p">()</span> <span class="c">#PostForm의 인자가 ()처럼 비어있기 때문에 비어있는 형태로 출력된다.</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'create.html'</span><span class="p">,{</span><span class="s">'post_form'</span><span class="p">:</span><span class="n">post_form</span><span class="p">})</span>
</code></pre></div></div>

<h3 id="createhtml">create.html</h3>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% extends 'base.html' %}
{% load bootstrap4 %} <span class="c">&lt;!-- bootstrap을 추가해야한다. --&gt;</span>
{% block container %}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>새글작성<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
       {% csrf_token %}
        <span class="c">&lt;!-- {{ post_form }} 이렇게쓰면 불러오기는 하지만 안이쁘다 --&gt;</span>
        {% bootstrap_form post_form %} <span class="c">&lt;!-- bootstrap을 적용하기 위하여 이렇게 써야한다. --&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>등록<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock %}

</code></pre></div></div>

<h4 id="삭제-기능-추가">삭제 기능 추가</h4>
<ul>
  <li>글을 작성하는 기능을 추가하였습니다. 이제는 작성한 글을 버튼하나로 지울수있는 기능을 추가해보도록합시다.</li>
  <li>앞에서 작성한 list.html 을 보면 url ‘posts:delete’ post.id으로 delete의 url이 되어있는것을 확인할 수 있습니다.</li>
  <li>이러한 url의 결과는 posts/{post.id}/delete/ 가 됩니다.</li>
  <li>따라서 아래와 같이 url을 추가해줍니다.</li>
</ul>

<h3 id="delete-url-추가">delete url 추가</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'&lt;int:post_id&gt;/delete/'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">p_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"delete"</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>
<h3 id="def-p_delete-제작">def p_delete 제작</h3>

<ul>
  <li>아래와 같이 p_delete 함수를 작성합니다.</li>
  <li>p_delete함수는 매우 간단합니다. 먼저 포스트들 중 앞에서 받은 post_id가 pk인것을 찾아줍니다.</li>
  <li>그리고 찾은것을 삭제해주고 다시 list.html로 돌아갑니다.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">p_delete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">post_id</span><span class="p">):</span>
    <span class="n">post</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">post_id</span><span class="p">)</span>
    <span class="n">post</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'posts:list'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="수정-기능-추가">수정 기능 추가</h4>
<ul>
  <li>글을 삭제하는 기능을 추가하였습니다. 이제는 작성한 글을 수정할 수 있는 기능을 추가해보도록합시다.</li>
  <li>앞에서 작성한 list.html 을 보면 url ‘posts:update’ post.id으로 update의 url이 되어있는것을 확인할 수 있습니다.</li>
  <li>이러한 url의 결과는 posts/{post.id}/update/ 가 됩니다.</li>
  <li>따라서 아래와 같이 url을 추가해줍니다.</li>
</ul>

<h3 id="delete-url-추가-1">delete url 추가</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'&lt;int:post_id&gt;/update/'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">p_update</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"update"</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>
<h3 id="def-p_update-제작">def p_update 제작</h3>

<ul>
  <li>아래와 같이 p_update 함수를 작성합니다.</li>
  <li>p_update 함수는 앞에서 제작하였던 p_create와 매우 유사합니다.</li>
  <li>다른점은 p_create의 경우 처음 get방식으로 왔을 때 빈 postform을 호출하지만 p_update의 경우 post_id를 설정하여 기존의 포스트를 지정하여 호출하는 것입니다.</li>
  <li>그리고 찾은것을 수정해주고 저장해줍니다.</li>
  <li>저장하였다면 list.html로 돌아갑니다.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">p_update</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">post_id</span><span class="p">):</span>
    <span class="n">post</span><span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span><span class="n">pk</span><span class="o">=</span><span class="n">post_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">post_form</span> <span class="o">=</span> <span class="n">PostForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">post</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">post_form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">post_form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">"posts:list"</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">post_form</span> <span class="o">=</span> <span class="n">PostForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">post</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'create.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'post_form'</span><span class="p">:</span> <span class="n">post_form</span><span class="p">})</span>
</code></pre></div></div>

<ul>
  <li>이번 포스트에서는 게시판을 제작하였습니다. 
<img src="assets/built/images/blog 1st.PNG" /></li>
  <li>사진에서는 댓글기능이 존재하지만 이것은 다음 포스트에 추가하겠습니다.</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
        <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to AI with vehicle</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            
        -->
            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.png" alt="heohyoyeong" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/heohyoyeong">HeoHyoYeong</a></h4>
                                
                                    <p>Read <a href="/author/heohyoyeong">more posts</a> by this author.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/heohyoyeong">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'http://localhost:4000/python-Django-blog-3';
                            this.page.identifier = '/python-Django-blog-3';
                            this.page.title = 'Python Django - Django 블로그 프로젝트 게시판  제작';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/background-fronted.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; AI with vehicle &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/python/">Python</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-Django-blog-2">Python Django - Django 블로그 프로젝트 로그인 제작</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-Django-blog-1">Python Django - Django 블로그 프로젝트 model 제작</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-Django-poll-4">Python Django - Django 투표 프로젝트 투표 결과 제작</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/python/">
                                
                                    See all 9 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/python-Django-blog-2">
                <div class="post-card-image" style="background-image: url(/assets/built/images/django.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/python-Django-blog-2">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python Django - Django 블로그 프로젝트 로그인 제작</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.png" alt="HeoHyoYeong" />
                        
                        <span class="post-card-author">
                            <a href="/author/heohyoyeong/">HeoHyoYeong</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
            <span>AI with vehicle</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Python Django - Django 블로그 프로젝트 게시판  제작</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Python+Django+-+Django+%EB%B8%94%EB%A1%9C%EA%B7%B8+%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8+%EA%B2%8C%EC%8B%9C%ED%8C%90++%EC%A0%9C%EC%9E%91&amp;url=https://heohyoyeong.github.io/python-Django-blog-3"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://heohyoyeong.github.io/python-Django-blog-3"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">AI with vehicle</a> &copy; 2020</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to AI with vehicle</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
                <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
